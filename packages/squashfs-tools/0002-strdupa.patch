Copied and pasted from FreeBSD
https://github.com/freebsd/freebsd-ports/blob/8a36c580e223f80151c857f53288df13e215b92c/filesystems/squashfs-tools/files/patch-action.c

--- a/squashfs-tools/action.c
+++ b/squashfs-tools/action.c
@@ -44,6 +44,12 @@
 #include "action.h"
 #include "error.h"
 
+#ifndef strdupa
+#include <string.h>  // required for str*()
+#include <stdlib.h>  // required for alloca
+#define strdupa(foo) (strncpy( alloca( strlen(foo) + 1 ), foo, strlen( foo ) + 1 ))
+#endif
+
 /*
  * code to parse actions
  */
